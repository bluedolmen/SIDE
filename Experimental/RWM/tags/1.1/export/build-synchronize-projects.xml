<?xml version="1.0" encoding="UTF-8"?>
<!-- ====================================================================== 
     29 oct. 08 11:15:34                                                        

     Synchronize metamodels and transformations from the projet RWM Model to
     the project RWM Web Modeler
                   
     bch                                                                
     ====================================================================== -->
<project name="project" default="default">

	<property name="modeler_repertory" value=".." />
	<property name="workspace_repertory" value="../${modeler_repertory}" />
	<property name="source_metamodel_repertory" value="${workspace_repertory}/RWM model/external-metamodel" />
	<property name="target_metamodel_repertory" value="${modeler_repertory}/source/transformation/metamodels" />
	<property name="source_transformation_repertory" value="${workspace_repertory}/RWM model/transformation" />
	<property name="target_transformation_repertory" value="${modeler_repertory}/source/transformation/transformations" />

	<!-- ================================= 
          target: default              
         ================================= -->
	<target name="default" depends="synchronizeMetaModels,synchronizeTemplateModels,synchronizeANTScripts,synchronizeASMFile">

	</target>

	<!-- - - - - - - - - - - - - - - - - - 
          target: synchronizeMetaModels                      
         - - - - - - - - - - - - - - - - - -->
	<target name="synchronizeMetaModels">
		<copy todir="${target_metamodel_repertory}">
			<fileset dir="${source_metamodel_repertory}" includes="**/*.ecore">
			</fileset>
		</copy>
	</target>

	<!-- - - - - - - - - - - - - - - - - - 
	          target: synchronizeTemplateModels                      
	         - - - - - - - - - - - - - - - - - -->
	<target name="synchronizeTemplateModels">
		<copy todir="${target_metamodel_repertory}">
			<fileset dir="${source_metamodel_repertory}" includes="**/*.emt">
			</fileset>
		</copy>
	</target>

	<!-- - - - - - - - - - - - - - - - - - 
	          target: synchronizeTemplateModels                      
	         - - - - - - - - - - - - - - - - - -->
	<target name="synchronizeANTScripts">
		<copy todir="${target_metamodel_repertory}">
			<fileset dir="${source_metamodel_repertory}" includes="**/*build*.xml"/>
			<fileset dir="${source_metamodel_repertory}" includes="**/*.php"/>
			<fileset dir="${source_metamodel_repertory}" includes="**/*.css"/>
			<fileset dir="${source_metamodel_repertory}" includes="**/*.png"/>
			<fileset dir="${source_metamodel_repertory}" includes="**/*.sh"/>
		</copy>
	</target>

	<!-- - - - - - - - - - - - - - - - - - 
	          target: synchronizeASMFile                      
	         - - - - - - - - - - - - - - - - - -->
	<target name="synchronizeASMFile">
		<copy todir="${target_transformation_repertory}">
			<fileset dir="${source_transformation_repertory}" includes="**/*.asm">
			</fileset>
		</copy>
	</target>

</project>
